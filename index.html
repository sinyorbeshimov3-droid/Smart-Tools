<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Tools</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #f4f6f8;
  display: flex;
  flex-direction: column;
  height: 100vh;
}

.content {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
}

.box {
  background: white;
  padding: 20px;
  border-radius: 15px;
  width: 100%;
  max-width: 400px;
  display: none;
  box-shadow: 0 8px 20px rgba(0,0,0,0.1);
}

.active {
  display: block;
}

h2 {
  text-align: center;
}

/* Clock */
#clock {
  font-size: 32px;
  text-align: center;
  font-weight: bold;
}

/* Calculator */
#calc-display {
  width: 100%;
  font-size: 22px;
  padding: 10px;
  margin-bottom: 10px;
  text-align: right;
}

.calc-buttons {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 8px;
}

.calc-buttons button {
  padding: 18px;
  font-size: 20px;
  border: none;
  border-radius: 8px;
  background: #3498db;
  color: white;
}

/* Calendar */
.calendar-nav {
  display: flex;
  justify-content: space-between;
  margin-bottom: 10px;
}

table {
  width: 100%;
  border-collapse: collapse;
}

th, td {
  border: 1px solid #ddd;
  padding: 6px;
  text-align: center;
  font-size: 12px;
}

th {
  background: #3498db;
  color: white;
}

.today {
  background: orange;
  color: white;
  border-radius: 50%;
}

/* Bottom nav */
.bottom-nav {
  display: flex;
  justify-content: space-around;
  background: white;
  border-top: 1px solid #ccc;
}

.bottom-nav button {
  background: none;
  border: none;
  padding: 12px;
  font-size: 16px;
}

.active-nav {
  color: #3498db;
  font-weight: bold;
}
</style>
</head>

<body>

<div class="content">

<!-- CLOCK -->
<div class="box" id="clock-box">
  <h2>Часы</h2>
  <div id="clock"></div>
</div>

<!-- CALENDAR -->
<div class="box" id="calendar-box">
  <h2>Календарь</h2>
  <div class="calendar-nav">
    <button onclick="changeMonth(-1)">«</button>
    <div id="monthYear"></div>
    <button onclick="changeMonth(1)">»</button>
  </div>
  <div id="calendar"></div>
</div>

<!-- CALCULATOR -->
<div class="box" id="calculator-box">
  <h2>Калькулятор</h2>
  <input id="calc-display" disabled>

  <div class="calc-buttons">
    <button onclick="appendCalc('1')">1</button>
    <button onclick="appendCalc('3')">3</button>
    <button onclick="appendCalc('7')">7</button>
    <button onclick="appendCalc('+')">+</button>

    <button onclick="appendCalc('2')">2</button>
    <button onclick="appendCalc('4')">4</button>
    <button onclick="appendCalc('8')">8</button>
    <button onclick="appendCalc('-')">-</button>

    <button onclick="appendCalc('3')">3</button>
    <button onclick="appendCalc('5')">5</button>
    <button onclick="appendCalc('9')">9</button>
    <button onclick="appendCalc('/')">÷</button>

    <button onclick="appendCalc('4')">4</button>
    <button onclick="appendCalc('6')">6</button>
    <button onclick="appendCalc('0')">0</button>
    <button onclick="appendCalc('*')">×</button>

    <button onclick="clearCalc()" style="grid-column: span 4; background:red">C</button>
    <button onclick="calculate()" style="grid-column: span 4; background:green">=</button>
  </div>
</div>

</div>

<div class="bottom-nav">
  <button id="btn-clock" onclick="showBox('clock')">Soat</button>
  <button id="btn-calendar" onclick="showBox('calendar')">Kalendar</button>
  <button id="btn-calculator" onclick="showBox('calculator')">Klaviatura</button>
</div>

<script>
// CLOCK
function updateClock(){
  document.getElementById('clock').innerText =
    new Date().toLocaleTimeString();
}
setInterval(updateClock,1000);
updateClock();

// CALCULATOR
function appendCalc(v){ calc.value += v }
function clearCalc(){ calc.value = '' }
function calculate(){
  try{ calc.value = eval(calc.value) }
  catch{ calc.value = 'Ошибка' }
}
const calc = document.getElementById('calc-display');

// CALENDAR
let today = new Date();
let month = today.getMonth();
let year = today.getFullYear();

const months = ["Январь","Февраль","Март","Апрель","Май","Июнь",
"Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"];

function generateCalendar(m,y){
  let firstDay = new Date(y,m,1).getDay();
  firstDay = (firstDay === 0) ? 6 : firstDay - 1;

  let days = new Date(y,m+1,0).getDate();

  let html = "<table><tr>"+
  "<th>Пн</th><th>Вт</th><th>Ср</th><th>Чт</th><th>Пт</th><th>Сб</th><th>Вс</th>"+
  "</tr><tr>";

  for(let i=0;i<firstDay;i++) html += "<td></td>";

  for(let d=1; d<=days; d++){
    let isToday = d===today.getDate() && m===today.getMonth() && y===today.getFullYear();
    html += `<td class="${isToday?'today':''}">${d}</td>`;
    if((d+firstDay)%7===0) html+="</tr><tr>";
  }

  html += "</tr></table>";
  calendar.innerHTML = html;
  monthYear.innerText = months[m]+" "+y;
}

function changeMonth(x){
  month+=x;
  if(month<0){month=11;year--}
  if(month>11){month=0;year++}
  generateCalendar(month,year);
}

generateCalendar(month,year);

// NAV
function showBox(b){
  ['clock','calendar','calculator'].forEach(x=>{
    document.getElementById(x+'-box').classList.remove('active');
    document.getElementById('btn-'+x)?.classList.remove('active-nav');
  });
  document.getElementById(b+'-box').classList.add('active');
  document.getElementById('btn-'+b)?.classList.add('active-nav');
}

showBox('clock');
</script>

</body>
</html>
